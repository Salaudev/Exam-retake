{"ast":null,"code":"import _asyncToGenerator from\"/home/salauat/Unicorn/ReactRetake/create/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/salauat/Unicorn/ReactRetake/create/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/salauat/Unicorn/ReactRetake/create/node_modules/@babel/runtime/regenerator/index.js\";import{Container,Grid,Typography,Box,Skeleton}from\"@mui/material\";import{useEffect,useState}from\"react\";import{getNewsByCategory}from\"../../api\";import Paper from\"@mui/material/Paper\";import CircularProgress from\"@mui/material/CircularProgress\";import dataCategories from\"./categories\";import List from\"@mui/material/List\";import ListItem from\"@mui/material/ListItem\";import ListItemButton from\"@mui/material/ListItemButton\";import ListItemIcon from\"@mui/material/ListItemIcon\";import ListItemText from\"@mui/material/ListItemText\";import PublicIcon from\"@mui/icons-material/Public\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function News(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"Uzbekistan\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var obj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);setError(false);_context.next=4;return getNewsByCategory(category);case 4:obj=_context.sent;if(obj.success)setData(obj.data);else setError(true);setLoading(false);case 7:case\"end\":return _context.stop();}}},_callee);})),[category]);console.log(data);return/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",sx:{py:3},children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"start\",children:[/*#__PURE__*/_jsx(Box,{sx:{width:220,overflow:\"hidden\",mr:2},children:/*#__PURE__*/_jsx(List,{children:dataCategories.map(function(item){return/*#__PURE__*/_jsx(ListItem,{disablePadding:true,children:/*#__PURE__*/_jsxs(ListItemButton,{onClick:function onClick(){return setCategory(item.toLowerCase());},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(PublicIcon,{})}),/*#__PURE__*/_jsx(ListItemText,{primary:item})]})},item);})})}),/*#__PURE__*/_jsx(Box,{sx:{my:4,flex:1},children:error?/*#__PURE__*/_jsx(Typography,{color:\"error.main\",children:\"Something went wrong\"}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:loading?dataCategories.map(function(item,index){return/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,lg:4,children:[/*#__PURE__*/_jsx(Skeleton,{variant:\"rectangular\",width:\"100%\",height:300,sx:{borderRadius:2}}),/*#__PURE__*/_jsx(Skeleton,{variant:\"text\",height:60,sx:{borderRadius:2}})]},index);}):data.map(function(obj,index){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,lg:4,sx:{display:\"flex\",flexDirection:\"column\"},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2,flex:1},elevation:10,children:[/*#__PURE__*/_jsx(\"img\",{src:obj.imageUrl,alt:\"\",style:{width:\"100%\",height:\"300px\",objectFit:\"cover\"},loading:\"lazy\"}),/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"body1\",children:obj.title})]})},obj.url);})})})]})});}","map":{"version":3,"sources":["/home/salauat/Unicorn/ReactRetake/create/src/pages/News/index.js"],"names":["Container","Grid","Typography","Box","Skeleton","useEffect","useState","getNewsByCategory","Paper","CircularProgress","dataCategories","List","ListItem","ListItemButton","ListItemIcon","ListItemText","PublicIcon","News","data","setData","category","setCategory","loading","setLoading","error","setError","obj","success","console","log","py","width","overflow","mr","map","item","toLowerCase","my","flex","index","borderRadius","display","flexDirection","p","imageUrl","height","objectFit","title","url"],"mappings":"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","sourcesContent":["import { Container, Grid, Typography, Box, Skeleton } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { getNewsByCategory } from \"../../api\";\nimport Paper from \"@mui/material/Paper\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\nimport dataCategories from \"./categories\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport PublicIcon from \"@mui/icons-material/Public\";\n\nexport default function News() {\n  const [data, setData] = useState([]);\n  const [category, setCategory] = useState(\"Uzbekistan\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(async () => {\n    setLoading(true);\n    setError(false);\n\n    const obj = await getNewsByCategory(category);\n    if (obj.success) setData(obj.data);\n    else setError(true);\n\n    setLoading(false);\n  }, [category]);\n\n  console.log(data);\n  return (\n    <Container maxWidth=\"xl\" sx={{ py: 3 }}>\n      <Box display={\"flex\"} alignItems=\"start\">\n        <Box sx={{ width: 220, overflow: \"hidden\", mr: 2 }}>\n          <List>\n            {dataCategories.map((item) => (\n              <ListItem key={item} disablePadding>\n                <ListItemButton onClick={() => setCategory(item.toLowerCase())}>\n                  <ListItemIcon>\n                    <PublicIcon />\n                  </ListItemIcon>\n                  <ListItemText primary={item} />\n                </ListItemButton>\n              </ListItem>\n            ))}\n          </List>\n        </Box>\n        <Box sx={{ my: 4, flex: 1 }}>\n          {error ? (\n            <Typography color=\"error.main\">Something went wrong</Typography>\n          ) : (\n            <Grid container spacing={2}>\n              {loading\n                ? dataCategories.map((item, index) => (\n                    <Grid key={index} item xs={12} sm={6} lg={4}>\n                      <Skeleton\n                        variant=\"rectangular\"\n                        width={\"100%\"}\n                        height={300}\n                        sx={{ borderRadius: 2 }}\n                      />\n                      <Skeleton\n                        variant=\"text\"\n                        height={60}\n                        sx={{ borderRadius: 2 }}\n                      />\n                    </Grid>\n                  ))\n                : data.map((obj, index) => (\n                    <Grid\n                      key={obj.url}\n                      item\n                      xs={12}\n                      sm={6}\n                      lg={4}\n                      sx={{ display: \"flex\", flexDirection: \"column\" }}\n                    >\n                      <Paper\n                        sx={{\n                          p: 2,\n                          flex: 1,\n                        }}\n                        elevation={10}\n                      >\n                        <img\n                          src={obj.imageUrl}\n                          alt=\"\"\n                          style={{\n                            width: \"100%\",\n                            height: \"300px\",\n                            objectFit: \"cover\",\n                          }}\n                          loading=\"lazy\"\n                        />\n                        <Typography component={\"p\"} variant=\"body1\">\n                          {obj.title}\n                        </Typography>\n                      </Paper>\n                    </Grid>\n                  ))}\n            </Grid>\n          )}\n        </Box>\n      </Box>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}